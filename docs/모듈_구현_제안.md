# CATUI Mobile 추가 모듈 구현 제안서

> 작성일: 2025년 11월 30일  
> 버전: 1.0

---

## 1. 현재 구현 현황

### 1.1 구현 완료 모듈 (15개, 58개 클래스)

| 모듈 | 클래스 | 상태 |
|------|--------|------|
| **theme** | Theme | ✅ 완료 |
| **overlays** | Overlay, Modal, Toast, Drawer, Tooltip, Popover, Notice | ✅ 완료 |
| **navigation** | TabBar, SwipeTabs, AppBar, PullToRefresh, ScrollSpy, Collapse, Accordion, BackButton | ✅ 완료 |
| **pickers** | DatePicker, TimePicker, ColorPicker, Countdown, DDay | ✅ 완료 |
| **selectors** | Autocomplete, MultiSelect, RangeSlider, TagInput | ✅ 완료 |
| **forms** | FileUpload, Rating, SignaturePad, FormWizard | ✅ 완료 |
| **feedback** | Notification, ProgressTracker, Skeleton, Loading | ✅ 완료 |
| **carousel** | Slider, Lightbox | ✅ 완료 |
| **pagination** | Pagination, DataList, ImageGallery | ✅ 완료 |
| **scroll** | VirtualScroll, InfiniteScroll, BackToTop, ScrollProgress, StickyHeader, ParallaxScroll | ✅ 완료 |
| **social** | ChatUI, Comments, ShareButtons, Reactions | ✅ 완료 |
| **wordcloud** | WordCloud, TagCloud | ✅ 완료 |
| **list** | SwipeableList, ReorderableList, CheckList, GroupedList | ✅ 완료 (2025.11.30) |
| **auth** | OTPInput, PinInput, PasswordInput, SocialLoginButtons, BiometricPrompt | ✅ 완료 (2025.11.30) |
| **search** | SearchBar, SearchHistory, SearchFilter, SearchSuggestion | ✅ 완료 (2025.11.30) |

### 1.2 기능 커버리지 분석

```text
[████████████████████] 100%  기본 UI (Modal, Toast, Drawer)
[████████████████████] 100%  네비게이션 (TabBar, AppBar, Accordion)
[████████████████████] 100%  폼/입력 (OTP, PIN 완료)
[████████████████████] 100%  리스트 (SwipeableList, ReorderableList 완료)
[████████████████████] 100%  피커/선택기
[████████████████████] 100%  피드백/알림
[████████████████████] 100%  인증 UI (OTP, PIN, Password 완료)
[░░░░░░░░░░░░░░░░░░░░]   0%  미디어 처리
[████░░░░░░░░░░░░░░░░]  20%  검색 (Autocomplete만)
[░░░░░░░░░░░░░░░░░░░░]   0%  온보딩/가이드
[░░░░░░░░░░░░░░░░░░░░]   0%  결제 UI
[░░░░░░░░░░░░░░░░░░░░]   0%  캘린더
```

---

## 2. 추가 구현 제안 모듈

### 2.1 우선순위 정의

| 등급 | 설명 | 기준 |
|------|------|------|
| 🔴 P0 | 필수 | 대부분의 앱에서 반드시 필요 |
| 🟠 P1 | 중요 | 많은 앱에서 자주 사용 |
| 🟡 P2 | 권장 | 특정 유형의 앱에서 필요 |
| 🟢 P3 | 선택 | 있으면 좋은 기능 |

---

### 2.2 list 모듈 - 고급 리스트 ✅ 완료

> **상태**: 2025년 11월 30일 구현 완료

#### list 클래스 목록

| 클래스 | 설명 | 상태 | 완료일 |
|--------|------|------|--------|
| **SwipeableList** | 스와이프로 삭제/보관/액션 (Vant 스타일) | ✅ 완료 | 2025.11.30 |
| **ReorderableList** | 드래그로 순서 변경 | ✅ 완료 | 2025.11.30 |
| **CheckList** | 체크박스 다중 선택 모드 | ✅ 완료 | 2025.11.30 |
| **GroupedList** | 섹션별 그룹핑 (헤더 포함) | ✅ 완료 | 2025.11.30 |

#### SwipeableList 상세 스펙

```javascript
new SwipeableList({
  container: '#list',
  items: [
    { id: 1, content: '항목 1' },
    { id: 2, content: '항목 2' }
  ],
  
  // 왼쪽 스와이프 액션 (오른쪽에서 나타남)
  leftActions: [
    { 
      icon: 'delete', 
      label: '삭제',
      color: '#EF4444',
      onAction: (item) => console.log('삭제:', item)
    }
  ],
  
  // 오른쪽 스와이프 액션 (왼쪽에서 나타남)
  rightActions: [
    {
      icon: 'archive',
      label: '보관',
      color: '#22C55E',
      onAction: (item) => console.log('보관:', item)
    },
    {
      icon: 'push_pin',
      label: '고정',
      color: '#3B82F6',
      onAction: (item) => console.log('고정:', item)
    }
  ],
  
  // 풀 스와이프 시 즉시 실행
  fullSwipeLeft: true,
  fullSwipeRight: false,
  
  // 스와이프 임계값 (px)
  threshold: 80,
  
  // 콜백
  onSwipeStart: (item, direction) => {},
  onSwipeEnd: (item, direction, action) => {},
  onItemClick: (item) => {}
});
```

#### ReorderableList 상세 스펙

```javascript
new ReorderableList({
  container: '#list',
  items: [...],
  
  // 드래그 핸들 (없으면 전체 아이템)
  handle: '.drag-handle',
  
  // 드래그 중 스타일
  dragClass: 'is-dragging',
  ghostClass: 'is-ghost',
  
  // 그룹 간 이동 허용
  group: 'shared',
  
  // 애니메이션
  animation: 150,
  
  // 콜백
  onStart: (item, fromIndex) => {},
  onEnd: (item, fromIndex, toIndex) => {},
  onChange: (newOrder) => {}
});
```

#### SwipeableList 사용 사례

- **SwipeableList**: 메일 앱, 메시지 앱, 할일 앱, 장바구니
- **ReorderableList**: 재생목록, 북마크 정리, 할일 우선순위

---

### 2.3 auth 모듈 - 인증 UI 🔴 P0

> **필요성**: 로그인/회원가입은 대부분의 앱에 필수. 현재 관련 UI 컴포넌트 없음.

#### auth 클래스 목록

| 클래스 | 설명 | 우선순위 | 예상 공수 |
|--------|------|----------|-----------|
| **OTPInput** | 6자리 인증번호 입력 | 🔴 P0 | 2일 |
| **PinInput** | PIN 번호 입력 (키패드) | 🔴 P0 | 2일 |
| **PasswordInput** | 비밀번호 (강도/토글) | 🟠 P1 | 1일 |
| **SocialLoginButtons** | 소셜 로그인 버튼 그룹 | ✅ 완료 | 2025.11.30 |
| **BiometricPrompt** | 생체인증 안내 UI | ✅ 완료 | 2025.11.30 |

#### OTPInput 상세 스펙

```javascript
new OTPInput({
  container: '#otp',
  
  // 자릿수
  length: 6,
  
  // 입력 타입
  type: 'number', // number, text, password
  
  // 자동 포커스
  autoFocus: true,
  
  // 마스킹 (보안)
  masked: false,
  
  // 구분자 (3-3 형식 등)
  separator: '-',
  separatorPosition: [3],
  
  // 자동 제출
  autoSubmit: true,
  
  // 콜백
  onInput: (value, index) => {},
  onComplete: (code) => verifyOTP(code),
  onPaste: (value) => {}
});

// Public API
otp.getValue();      // '123456'
otp.setValue('123456');
otp.clear();
otp.focus(index);
otp.setError(true);
```

#### PinInput 상세 스펙

```javascript
new PinInput({
  container: '#pin',
  
  // 자릿수
  length: 4,
  
  // 키패드 타입
  keypad: 'numeric', // numeric, custom
  
  // 셔플 (보안)
  shuffle: false,
  
  // 생체인증 버튼
  biometric: true,
  
  // 표시 방식
  display: 'dots', // dots, numbers, masked
  
  // 진동 피드백
  haptic: true,
  
  // 콜백
  onInput: (length) => {},
  onComplete: (pin) => verifyPin(pin),
  onBiometric: () => requestBiometric(),
  onError: () => {} // 틀렸을 때 흔들림 효과
});
```

#### OTPInput 사용 사례

- **OTPInput**: 휴대폰 인증, 이메일 인증, 2FA
- **PinInput**: 앱 잠금, 결제 비밀번호, 금융 앱

---

### 2.4 media 모듈 - 미디어 처리 🟠 P1

> **필요성**: 프로필 사진, 게시물 작성 등에 필수. 특히 이미지 크롭은 거의 모든 앱에서 필요.

#### media 클래스 목록

| 클래스 | 설명 | 우선순위 | 예상 공수 |
|--------|------|----------|-----------|
| **ImageCropper** | 이미지 자르기/회전 | 🔴 P0 | 4일 |
| **ImageEditor** | 이미지 편집 (필터, 텍스트) | 🟡 P2 | 5일 |
| **VideoPlayer** | 비디오 플레이어 | 🟠 P1 | 3일 |
| **AudioPlayer** | 오디오 플레이어 | 🟠 P1 | 2일 |
| **VoiceRecorder** | 음성 녹음기 | 🟡 P2 | 3일 |
| **MediaPreview** | 미디어 미리보기 (썸네일) | 🟠 P1 | 1일 |

#### ImageCropper 상세 스펙

```javascript
new ImageCropper({
  container: '#cropper',
  
  // 이미지 소스
  image: file, // File, Blob, URL
  
  // 비율
  aspectRatio: 1, // 1 = 정사각형, 16/9 = 와이드, null = 자유
  
  // 마스크 형태
  mask: 'circle', // circle, square, none
  
  // 최소/최대 크기
  minWidth: 100,
  minHeight: 100,
  maxWidth: 1000,
  maxHeight: 1000,
  
  // 출력 설정
  output: {
    width: 500,
    height: 500,
    format: 'image/jpeg',
    quality: 0.9
  },
  
  // 기능
  rotatable: true,
  zoomable: true,
  
  // 가이드라인
  guides: true,
  
  // 콜백
  onReady: () => {},
  onCrop: (result) => {}, // { blob, dataURL, canvas }
  onError: (error) => {}
});

// Public API
cropper.rotate(90);      // 회전
cropper.zoom(1.5);       // 줌
cropper.reset();         // 리셋
cropper.crop();          // 크롭 실행
cropper.getDataURL();    // 결과 얻기
cropper.getBlob();
```

#### VideoPlayer 상세 스펙

```javascript
new VideoPlayer({
  container: '#player',
  
  // 소스
  src: 'video.mp4',
  poster: 'thumbnail.jpg',
  
  // 컨트롤
  controls: true,
  autoplay: false,
  loop: false,
  muted: false,
  
  // 기능
  pip: true,           // Picture-in-Picture
  fullscreen: true,
  playbackRate: true,  // 배속 조절
  quality: ['720p', '480p', '360p'],
  
  // 자막
  subtitles: [
    { label: '한국어', src: 'ko.vtt' }
  ],
  
  // 광고
  ads: {
    type: 'preroll',
    src: 'ad.mp4',
    skipAfter: 5
  },
  
  // 콜백
  onPlay: () => {},
  onPause: () => {},
  onEnded: () => {},
  onTimeUpdate: (currentTime, duration) => {},
  onError: (error) => {}
});
```

#### ImageCropper 사용 사례

- **ImageCropper**: 프로필 사진, 커버 이미지, ID 카드 촬영
- **VideoPlayer**: 강의 앱, SNS 피드, 동영상 스트리밍
- **AudioPlayer**: 팟캐스트, 음악 앱, 어학 앱

---

### 2.5 search 모듈 - 검색 UI 🟠 P1

> **필요성**: Autocomplete만으로는 부족. 검색 기록, 필터 등 필요.

#### search 클래스 목록

| 클래스 | 설명 | 우선순위 | 예상 공수 |
|--------|------|----------|-----------|
| **SearchBar** | 검색바 (확장형) | ✅ 완료 | 2025.11.30 |
| **SearchHistory** | 최근 검색어 | ✅ 완료 | 2025.11.30 |
| **SearchFilter** | 필터 UI (바텀시트) | ✅ 완료 | 2025.11.30 |
| **SearchSuggestion** | 검색어 자동완성 | ✅ 완료 | 2025.11.30 |

#### SearchBar 상세 스펙

```javascript
new SearchBar({
  container: '#search',
  
  // 플레이스홀더
  placeholder: '검색어를 입력하세요',
  
  // 추가 버튼
  voiceSearch: true,     // 음성 검색
  barcodeScanner: true,  // 바코드/QR 스캔
  
  // 확장 모드 (클릭 시 전체화면)
  expandable: true,
  
  // 취소 버튼
  showCancel: true,
  cancelText: '취소',
  
  // 디바운스
  debounce: 300,
  
  // 콜백
  onFocus: () => {},
  onBlur: () => {},
  onInput: (query) => {},
  onSubmit: (query) => {},
  onClear: () => {},
  onVoice: () => {},
  onScan: () => {}
});
```

---

### 2.6 onboarding 모듈 - 온보딩 🟠 P1

> **필요성**: 신규 사용자 유입 및 전환율 향상에 중요.

#### onboarding 클래스 목록

| 클래스 | 설명 | 우선순위 | 예상 공수 |
|--------|------|----------|-----------|
| **IntroSlider** | 앱 소개 슬라이더 | 🟠 P1 | 2일 |
| **FeatureSpotlight** | 기능 하이라이트 | 🟠 P1 | 2일 |
| **PermissionGuide** | 권한 요청 안내 | 🟡 P2 | 1일 |
| **Coachmark** | 단계별 가이드 | 🟡 P2 | 3일 |

#### IntroSlider 상세 스펙

```javascript
new IntroSlider({
  container: '#intro',
  
  slides: [
    {
      image: 'intro1.png',
      title: '환영합니다',
      description: '새로운 경험을 시작하세요',
      background: '#3B82F6'
    },
    // ...
  ],
  
  // 건너뛰기
  showSkip: true,
  skipText: '건너뛰기',
  
  // 완료 버튼
  doneText: '시작하기',
  
  // 페이지네이션
  pagination: 'dots', // dots, progress, fraction
  
  // 애니메이션
  animation: 'slide', // slide, fade, zoom
  
  // 자동 재생
  autoplay: false,
  
  // 콜백
  onSlideChange: (index) => {},
  onSkip: () => {},
  onDone: () => navigateToHome()
});
```

#### FeatureSpotlight 상세 스펙

```javascript
new FeatureSpotlight({
  // 하이라이트할 요소
  target: '#new-feature',
  
  // 설명
  title: '새로운 기능',
  description: '여기를 탭하면 새로운 기능을 사용할 수 있어요',
  
  // 위치
  position: 'bottom', // top, bottom, left, right
  
  // 스타일
  shape: 'circle', // circle, rectangle
  padding: 8,
  
  // 버튼
  buttons: [
    { text: '확인', primary: true },
    { text: '다음' }
  ],
  
  // 배경 클릭 시 닫기
  closeOnBackdrop: false,
  
  // 콜백
  onShow: () => {},
  onClose: () => {},
  onAction: (buttonIndex) => {}
});
```

---

### 2.7 calendar 모듈 - 캘린더 🟡 P2

> **필요성**: 일정 관리, 예약 앱에 필수.

#### calendar 클래스 목록

| 클래스 | 설명 | 우선순위 | 예상 공수 |
|--------|------|----------|-----------|
| **MonthCalendar** | 월간 캘린더 | 🟠 P1 | 4일 |
| **WeekView** | 주간 뷰 (타임라인) | 🟡 P2 | 3일 |
| **DateRangePicker** | 기간 선택 | 🟠 P1 | 2일 |
| **EventCard** | 일정 카드 | 🟡 P2 | 1일 |

#### MonthCalendar 상세 스펙

```javascript
new MonthCalendar({
  container: '#calendar',
  
  // 초기 날짜
  date: new Date(),
  
  // 이벤트
  events: [
    { 
      date: '2024-12-25',
      title: '크리스마스',
      color: '#EF4444',
      allDay: true
    }
  ],
  
  // 선택 모드
  selectionMode: 'single', // single, multiple, range
  
  // 범위 제한
  minDate: null,
  maxDate: null,
  
  // 비활성 날짜
  disabledDates: ['2024-12-31'],
  disabledDays: [0, 6], // 일, 토
  
  // 표시 옵션
  showWeekNumbers: false,
  showAdjacentMonths: true,
  firstDayOfWeek: 0, // 0 = 일요일
  
  // 로케일
  locale: 'ko-KR',
  
  // 콜백
  onDateSelect: (date) => {},
  onMonthChange: (year, month) => {},
  onEventClick: (event) => {}
});
```

---

### 2.8 payment 모듈 - 결제 UI 🟡 P2

> **필요성**: 이커머스, 서비스 앱에 필수.

#### payment 클래스 목록

| 클래스 | 설명 | 우선순위 | 예상 공수 |
|--------|------|----------|-----------|
| **CardInput** | 카드번호 입력 | 🟠 P1 | 2일 |
| **PaymentMethods** | 결제수단 선택 | 🟠 P1 | 2일 |
| **PriceBreakdown** | 가격 상세 | 🟡 P2 | 1일 |
| **ReceiptView** | 영수증 뷰 | 🟡 P2 | 1일 |

#### CardInput 상세 스펙

```javascript
new CardInput({
  container: '#card',
  
  // 필드
  fields: ['number', 'expiry', 'cvc', 'name'],
  
  // 카드사 감지
  detectCardType: true,
  
  // 지원 카드사
  supportedCards: ['visa', 'mastercard', 'amex'],
  
  // 스캔 기능
  scanEnabled: true,
  
  // 유효성 검사
  validateOnBlur: true,
  
  // 콜백
  onCardTypeChange: (type) => {},
  onChange: (field, value, isValid) => {},
  onComplete: (cardData) => {},
  onError: (field, error) => {}
});
```

---

## 3. 구현 로드맵

### Phase 1: 핵심 기능 (2주)

```text
Week 1 ✅ 완료
├── list/SwipeableList      [완료] 2025.11.30
├── list/ReorderableList    [완료] 2025.11.30
└── 테스트 및 예제          [완료]

Week 2 ✅ 완료
├── auth/OTPInput           [완료] 2025.11.30
├── auth/PinInput           [완료] 2025.11.30
├── auth/PasswordInput      [완료] 2025.11.30
└── 테스트 및 예제          [완료]
```

### Phase 2: 미디어 & 검색 (2주)

```text
Week 3
├── media/ImageCropper      [4일]
├── media/MediaPreview      [1일]
└── 테스트 및 예제          [2일]

Week 4
├── search/SearchBar        [2일]
├── search/SearchHistory    [1일]
├── search/SearchFilter     [2일]
└── 테스트 및 예제          [2일]
```

### Phase 3: 온보딩 & 캘린더 (2주)

```text
Week 5
├── onboarding/IntroSlider      [2일]
├── onboarding/FeatureSpotlight [2일]
├── onboarding/Coachmark        [3일]

Week 6
├── calendar/MonthCalendar      [4일]
├── calendar/DateRangePicker    [2일]
└── 테스트 및 예제              [1일]
```

### Phase 4: 추가 기능 (2주)

```text
Week 7-8
├── media/VideoPlayer           [3일]
├── media/AudioPlayer           [2일]
├── payment/CardInput           [2일]
├── payment/PaymentMethods      [2일]
└── 기타 마무리                 [5일]
```

---

## 4. 예상 결과물

### 4.1 모듈 수 변화

| 구분 | 현재 | 추가 | 합계 |
|------|------|------|------|
| 모듈 수 | 12개 | 6개 | **18개** |
| 클래스 수 | 45개 | 29개 | **74개** |

### 4.2 기능 커버리지 예상

```text
[████████████████████] 100%  기본 UI
[████████████████████] 100%  네비게이션
[████████████████████] 100%  폼/입력 (OTP, PIN 추가)
[████████████████████] 100%  리스트 (스와이프, 드래그 추가)
[████████████████████] 100%  피커/선택기
[████████████████████] 100%  피드백/알림
[████████████████████] 100%  인증 UI (신규)
[████████████████░░░░]  80%  미디어 처리 (신규)
[████████████████████] 100%  검색 (신규)
[████████████████████] 100%  온보딩/가이드 (신규)
[████████████░░░░░░░░]  60%  결제 UI (신규)
[████████████████░░░░]  80%  캘린더 (신규)
```

---

## 5. 기술 요구사항

### 5.1 공통 요구사항

- **메모리 관리**: `_handlers` 객체 사용, `destroy()` 메서드 필수
- **모바일 최적화**: touch 이벤트 `passive: true`, 최소 터치 영역 44px
- **접근성**: ARIA 속성, 키보드 네비게이션
- **다크모드**: CSS 변수 사용, SCSS 변수 활용
- **애니메이션**: 60fps 유지, `requestAnimationFrame` 사용

### 5.2 테스트 요구사항

- 각 클래스별 예제 페이지 작성
- 메모리 누수 테스트
- 모바일 디바이스 테스트 (iOS Safari, Android Chrome)

---

## 6. 참고사항

### 6.1 기존 모듈과의 연동

| 신규 클래스 | 연동 가능 모듈 |
|-------------|----------------|
| SwipeableList | VirtualScroll, InfiniteScroll |
| ImageCropper | FileUpload, Lightbox |
| SearchBar | Autocomplete, Drawer |
| IntroSlider | Slider |
| MonthCalendar | DatePicker |

### 6.2 외부 라이브러리 의존성

- **없음**: 순수 JavaScript로 구현
- 필요 시 선택적 폴리필만 사용

---

## 7. 결론

현재 CATUI Mobile은 기본적인 UI 컴포넌트를 잘 갖추고 있으나, 실제 앱 개발에 자주 필요한 **리스트 인터랙션**, **인증 UI**, **미디어 처리** 기능이 부족합니다.

**즉시 구현 권장**:

1. ~~`SwipeableList`~~ - ✅ 완료 (2025.11.30)
2. ~~`OTPInput`~~ - ✅ 완료 (2025.11.30)
3. `ImageCropper` - 프로필/게시물 업로드 필수

위 모듈들을 순차적으로 구현하면 대부분의 모바일 앱 개발 요구사항을 커버할 수 있습니다.
