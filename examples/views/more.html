<div class="fade-in">
  <!-- ê¸°ë³¸ ì• ë‹ˆë©”ì´ì…˜ -->
  <div class="card">
    <div class="card-header">
      <h3 class="card-header-title">
        <span class="material-icons" style="color: var(--primary);">animation</span>
        ê¸°ë³¸ ì• ë‹ˆë©”ì´ì…˜
      </h3>
    </div>
    <div class="card-body">
    <div class="btn-group">
      <button class="btn btn-outline" data-anim="fadeIn">fadeIn</button>
      <button class="btn btn-outline" data-anim="fadeOut">fadeOut</button>
      <button class="btn btn-outline" data-anim="scaleIn">scaleIn</button>
      <button class="btn btn-outline" data-anim="scaleOut">scaleOut</button>
    </div>
    <div class="demo-box" id="anim-target-basic">
      ğŸ±
    </div>
    </div>
  </div>
  
  <!-- ìŠ¬ë¼ì´ë“œ ì• ë‹ˆë©”ì´ì…˜ -->
  <div class="card">
    <div class="card-header">
      <h3 class="card-header-title">
        <span class="material-icons" style="color: var(--primary);">swap_horiz</span>
        ìŠ¬ë¼ì´ë“œ ì• ë‹ˆë©”ì´ì…˜
      </h3>
    </div>
    <div class="card-body">
    <div class="btn-group">
      <button class="btn btn-outline" data-anim="slideDown">slideDown</button>
      <button class="btn btn-outline" data-anim="slideUp">slideUp</button>
      <button class="btn btn-outline" data-anim="bounceIn">bounceIn</button>
      <button class="btn btn-outline" data-anim="bounceOut">bounceOut</button>
    </div>
    <div class="demo-box" id="anim-target-slide">
      ğŸ‰
    </div>
    </div>
  </div>
  
  <!-- íšŒì „/í”Œë¦½ ì• ë‹ˆë©”ì´ì…˜ -->
  <div class="card">
    <div class="card-header">
      <h3 class="card-header-title">
        <span class="material-icons" style="color: var(--primary);">360</span>
        íšŒì „ / í”Œë¦½
      </h3>
    </div>
    <div class="card-body">
    <div class="btn-group">
      <button class="btn btn-outline" data-anim="rotateIn">rotateIn</button>
      <button class="btn btn-outline" data-anim="rotateOut">rotateOut</button>
      <button class="btn btn-outline" data-anim="flipIn">flipIn</button>
      <button class="btn btn-outline" data-anim="flipOut">flipOut</button>
    </div>
    <div class="demo-box" id="anim-target-rotate">
      â­
    </div>
    </div>
  </div>
  
  <!-- ì£¼ì˜ ëŒê¸° ì• ë‹ˆë©”ì´ì…˜ -->
  <div class="card">
    <div class="card-header">
      <h3 class="card-header-title">
        <span class="material-icons" style="color: var(--primary);">notifications_active</span>
        ì£¼ì˜ ëŒê¸°
      </h3>
    </div>
    <div class="card-body">
    <div class="btn-group">
      <button class="btn btn-outline" data-anim="shake">shake</button>
      <button class="btn btn-outline" data-anim="pulse">pulse</button>
      <button class="btn btn-outline" data-anim="flash">flash</button>
      <button class="btn btn-outline" data-anim="swing">swing</button>
      <button class="btn btn-outline" data-anim="wobble">wobble</button>
      <button class="btn btn-outline" data-anim="tada">tada</button>
      <button class="btn btn-outline" data-anim="heartBeat">heartBeat</button>
    </div>
    <div class="demo-box" id="anim-target-attention">
      â¤ï¸
    </div>
    </div>
  </div>

  <!-- ë¡œë”© ì¸ë””ì¼€ì´í„° -->
  <div class="card">
    <div class="card-header">
      <h3 class="card-header-title">
        <span class="material-icons" style="color: var(--primary);">hourglass_empty</span>
        ë¡œë”© ì¸ë””ì¼€ì´í„°
      </h3>
    </div>
    <div class="card-body">
    <div class="btn-group">
      <button class="btn btn-primary" id="loading-show">ë¡œë”© í‘œì‹œ</button>
      <button class="btn btn-secondary" id="loading-hide">ìˆ¨ê¸°ê¸°</button>
    </div>
    </div>
  </div>

  <!-- í¼ ê²€ì¦ -->
  <div class="card">
    <div class="card-header">
      <h3 class="card-header-title">
        <span class="material-icons" style="color: var(--primary);">fact_check</span>
        í¼ ê²€ì¦
      </h3>
    </div>
    <div class="card-body">
    <form id="demo-form">
      <div class="form-group">
        <label class="form-label">ì´ë©”ì¼ *</label>
        <input type="email" name="email" class="form-input" placeholder="ì´ë©”ì¼ ì…ë ¥">
        <div class="form-error" id="email-error"></div>
      </div>
      <div class="form-group">
        <label class="form-label">ë¹„ë°€ë²ˆí˜¸ * (8ì ì´ìƒ)</label>
        <input type="password" name="password" class="form-input" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
        <div class="form-error" id="password-error"></div>
      </div>
      <button type="submit" class="btn btn-primary" style="width: 100%;">
        ê²€ì¦í•˜ê¸°
      </button>
    </form>
    </div>
  </div>

  <!-- ë³´ì•ˆ -->
  <div class="card">
    <div class="card-header">
      <h3 class="card-header-title">
        <span class="material-icons" style="color: var(--primary);">security</span>
        ë³´ì•ˆ (XSS ë°©ì§€)
      </h3>
    </div>
    <div class="card-body">
    <div class="form-group">
      <label class="form-label">ì…ë ¥ (HTML íƒœê·¸ í¬í•¨)</label>
      <input type="text" class="form-input" id="xss-input" 
             value="<script>alert('XSS')</script>">
    </div>
    <div class="btn-group">
      <button class="btn btn-outline" id="xss-escape">escape()</button>
      <button class="btn btn-outline" id="xss-sanitize">sanitize()</button>
    </div>
    <div class="output-log" id="xss-output" style="word-break: break-all;"></div>
    </div>
  </div>

  <!-- ë§í¬ -->
  <div class="card">
    <div class="card-header">
      <h3 class="card-header-title">
        <span class="material-icons" style="color: var(--primary);">link</span>
        ê´€ë ¨ ë§í¬
      </h3>
    </div>
    <ul class="list">
      <li class="list-item">
        <span class="material-icons item-icon">description</span>
        <div class="item-content">
          <div class="item-label">API ë¬¸ì„œ</div>
          <div class="item-value">docs/API.md</div>
        </div>
      </li>
      <li class="list-item">
        <span class="material-icons item-icon">code</span>
        <div class="item-content">
          <div class="item-label">ì†ŒìŠ¤ ì½”ë“œ</div>
          <div class="item-value">src/core/</div>
        </div>
      </li>
    </ul>
  </div>
</div>

<script>
(function() {
  // CATUI í™•ì¸
  if (typeof CATUI === 'undefined') {
    console.error('CATUI not loaded');
    return;
  }
  
  // ========================================
  // ì• ë‹ˆë©”ì´ì…˜ (í†µí•© ì²˜ë¦¬)
  // ========================================
  const animTargets = {
    basic: document.getElementById('anim-target-basic'),
    slide: document.getElementById('anim-target-slide'),
    rotate: document.getElementById('anim-target-rotate'),
    attention: document.getElementById('anim-target-attention')
  };
  
  // ì• ë‹ˆë©”ì´ì…˜ ë²„íŠ¼ í´ë¦­ í•¸ë“¤ëŸ¬
  document.querySelectorAll('[data-anim]').forEach(btn => {
    btn.addEventListener('click', async () => {
      const animName = btn.dataset.anim;
      const card = btn.closest('.card');
      const target = card.querySelector('.demo-box');
      
      if (!target || typeof CATUI.animate !== 'function') {
        console.warn('Animation not available');
        return;
      }
      
      try {
        // ì‚¬ë¼ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜ í›„ ë‹¤ì‹œ ë³´ì´ê²Œ
        const hideAnims = ['fadeOut', 'scaleOut', 'slideUp', 'bounceOut', 'rotateOut', 'flipOut'];
        
        if (hideAnims.includes(animName)) {
          await CATUI.animate(target)[animName]();
          // ë‹¤ì‹œ ë³´ì´ê²Œ
          setTimeout(() => {
            target.style.display = '';
            target.style.opacity = '1';
            target.style.transform = '';
          }, 300);
        } else {
          // ë³´ì´ëŠ” ì• ë‹ˆë©”ì´ì…˜
          target.style.display = 'flex';
          target.style.opacity = '1';
          target.style.transform = '';
          await CATUI.animate(target)[animName]();
        }
      } catch (e) {
        console.error(`${animName} error:`, e);
        // ë³µêµ¬
        target.style.display = 'flex';
        target.style.opacity = '1';
        target.style.transform = '';
      }
    });
  });

  // ========================================
  // ë¡œë”© ì¸ë””ì¼€ì´í„°
  // ========================================
  CATUI('#loading-show').on('click', () => {
    CATUI.loading.show('ë¡œë”© ì¤‘...');
    setTimeout(() => CATUI.loading.hide(), 2000);
  });
  
  CATUI('#loading-hide').on('click', () => CATUI.loading.hide());

  // ========================================
  // í¼ ê²€ì¦
  // ========================================
  const form = CATUI('#demo-form');
  const emailInput = CATUI('[name="email"]');
  const passwordInput = CATUI('[name="password"]');
  const emailError = CATUI('#email-error');
  const passwordError = CATUI('#password-error');
  
  function validateEmail(value) {
    if (!value) return 'ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”';
    if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) return 'ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤';
    return '';
  }
  
  function validatePassword(value) {
    if (!value) return 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”';
    if (value.length < 8) return 'ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤';
    return '';
  }
  
  emailInput.on('blur', () => {
    const error = validateEmail(emailInput.get(0).value);
    emailError.text(error);
    emailInput.toggleClass('is-invalid', !!error).toggleClass('is-valid', !error && emailInput.get(0).value);
  });
  
  passwordInput.on('blur', () => {
    const error = validatePassword(passwordInput.get(0).value);
    passwordError.text(error);
    passwordInput.toggleClass('is-invalid', !!error).toggleClass('is-valid', !error && passwordInput.get(0).value);
  });
  
  form.on('submit', (e) => {
    e.preventDefault();
    
    const emailErr = validateEmail(emailInput.get(0).value);
    const passErr = validatePassword(passwordInput.get(0).value);
    
    emailError.text(emailErr);
    passwordError.text(passErr);
    
    emailInput.toggleClass('is-invalid', !!emailErr);
    passwordInput.toggleClass('is-invalid', !!passErr);
    
    if (!emailErr && !passErr) {
      CATUI.loading.show('ì œì¶œ ì¤‘...');
      setTimeout(() => {
        CATUI.loading.hide();
        alert('í¼ ê²€ì¦ ì„±ê³µ!');
        form.get(0).reset();
        emailInput.removeClass('is-valid');
        passwordInput.removeClass('is-valid');
      }, 1000);
    }
  });

  // ========================================
  // XSS ë°©ì§€
  // ========================================
  const xssInput = CATUI('#xss-input');
  const xssOutput = CATUI('#xss-output');
  
  CATUI('#xss-escape').on('click', () => {
    const result = CATUI.escape(xssInput.get(0).value);
    xssOutput.html(`<div class="log-item"><strong>escape():</strong><br>${result}</div>`);
  });
  
  CATUI('#xss-sanitize').on('click', () => {
    const result = CATUI.sanitize(xssInput.get(0).value);
    xssOutput.html(`<div class="log-item"><strong>sanitize():</strong><br>${CATUI.escape(result) || '(ë¹ˆ ë¬¸ìì—´ - ìœ„í—˜ ìš”ì†Œ ì œê±°ë¨)'}</div>`);
  });
})();
</script>
